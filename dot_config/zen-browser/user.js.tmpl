/* Zen Browser User Preferences
 * This file contains custom preferences that override default settings
 * Place this file in your Zen Browser profile directory
 *
 * Note: Changes require browser restart to take effect
 */

// Privacy & Security
user_pref("browser.contentblocking.category", "strict");
user_pref("privacy.annotate_channels.strict_list.enabled", true);
user_pref("privacy.bounceTrackingProtection.mode", 1);
user_pref("privacy.fingerprintingProtection", true);
user_pref("privacy.globalprivacycontrol.was_ever_enabled", true);
user_pref("privacy.query_stripping.enabled", true);
user_pref("privacy.query_stripping.enabled.pbmode", true);
user_pref("privacy.trackingprotection.emailtracking.enabled", true);
user_pref("privacy.trackingprotection.enabled", true);
user_pref("privacy.trackingprotection.socialtracking.enabled", true);
user_pref("dom.security.https_only_mode", true);
user_pref("dom.security.https_only_mode_ever_enabled", true);

// DNS over HTTPS (NextDNS)
user_pref("network.trr.mode", 3);
user_pref(
    "network.trr.custom_uri",
    "https://dns.nextdns.io/{{ .nextdns_id }}/Lucas--Zen--{{ .nextdns_profile_name }}",
);
user_pref(
    "network.trr.uri",
    "https://dns.nextdns.io/{{ .nextdns_id }}/Lucas--Zen--{{ .nextdns_profile_name }}",
);

// Network Performance & Privacy
user_pref("network.dns.disablePrefetch", true);
user_pref("network.http.speculative-parallel-limit", 0);
user_pref("network.prefetch-next", false);
user_pref(
    "network.http.referer.disallowCrossSiteRelaxingDefault.top_navigation",
    true,
);

// Performance
user_pref("browser.cache.disk.enable", true);
user_pref("browser.cache.memory.enable", true);

// UI Preferences
user_pref("browser.download.useDownloadDir", false); // Always ask where to save files
user_pref("browser.preferences.experimental.hidden", true);
user_pref("browser.theme.toolbar-theme", 0);
user_pref("layout.css.prefers-color-scheme.content-override", 0);
user_pref("layout.spellcheckDefault", 0);

// Form Autofill (Disabled - using Bitwarden)
user_pref("extensions.formautofill.addresses.enabled", false);
user_pref("extensions.formautofill.creditCards.enabled", false);
user_pref("signon.rememberSignons", false);

// Search
user_pref("browser.search.suggest.enabled", true);
user_pref("browser.search.separatePrivateDefault", false);

// Experimental Features
user_pref("layout.css.scroll-driven-animations.enabled", true); // Enable CSS scroll-driven animations
user_pref("browser.ml.enable", true); // Machine Learning features
user_pref("pdfjs.enableAltText", true); // PDF alt text

// Enable userChrome.css and userContent.css
user_pref("toolkit.legacyUserProfileCustomizations.stylesheets", true);

// Zen-specific
user_pref("zen.view.compact.enable-at-startup", false);
user_pref("zen.view.show-newtab-button-top", false);
user_pref("zen.view.sidebar-expanded", false);
user_pref("zen.view.use-single-toolbar", false);
user_pref("zen.urlbar.behavior", "float");
user_pref("zen.workspaces.continue-where-left-off", true);

// Add your custom preferences below:
